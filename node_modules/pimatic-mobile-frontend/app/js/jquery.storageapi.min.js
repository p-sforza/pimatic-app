!function(e){function t(t){var r,i,n,o=arguments.length,s=window[t],a=arguments,f=a[1];if(o<2)throw new Error("Minimum 2 arguments must be given");if(e.isArray(f)){i={};for(var u in f){r=f[u];try{i[r]=JSON.parse(s.getItem(r))}catch(e){i[r]=s.getItem(r)}}return i}if(2!=o){try{i=JSON.parse(s.getItem(f))}catch(e){throw new ReferenceError(f+" is not defined in this storage")}for(u=2;u<o-1;u++)if(void 0===(i=i[a[u]]))throw new ReferenceError([].slice.call(a,1,u+1).join(".")+" is not defined in this storage");if(e.isArray(a[u])){n=i,i={};for(var c in a[u])i[a[u][c]]=n[a[u][c]];return i}return i[a[u]]}try{return JSON.parse(s.getItem(f))}catch(e){return s.getItem(f)}}function i(t){var r,i,n=arguments.length,o=window[t],s=arguments,a=s[1],f=s[2],u={};if(n<2||!e.isPlainObject(a)&&n<3)throw new Error("Minimum 3 arguments must be given or second parameter must be an object");if(e.isPlainObject(a)){for(var c in a)r=a[c],e.isPlainObject(r)?o.setItem(c,JSON.stringify(r)):o.setItem(c,r);return a}if(3==n)return"object"==typeof f?o.setItem(a,JSON.stringify(f)):o.setItem(a,f),f;try{null!=(i=o.getItem(a))&&(u=JSON.parse(i))}catch(e){}i=u;for(c=2;c<n-2;c++)i[r=s[c]]&&e.isPlainObject(i[r])||(i[r]={}),i=i[r];return i[s[c]]=s[c+1],o.setItem(a,JSON.stringify(u)),u}function n(t){var r,i,n=arguments.length,o=window[t],s=arguments,a=s[1];if(n<2)throw new Error("Minimum 2 arguments must be given");if(e.isArray(a)){for(var f in a)o.removeItem(a[f]);return!0}if(2==n)return o.removeItem(a),!0;try{r=i=JSON.parse(o.getItem(a))}catch(e){throw new ReferenceError(a+" is not defined in this storage")}for(f=2;f<n-1;f++)if(void 0===(i=i[s[f]]))throw new ReferenceError([].slice.call(s,1,f).join(".")+" is not defined in this storage");if(e.isArray(s[f]))for(var u in s[f])delete i[s[f][u]];else delete i[s[f]];return o.setItem(a,JSON.stringify(r)),!0}function o(t,r){var i=f(t);for(var o in i)n(t,i[o]);if(r)for(var o in e.namespaceStorages)u(o)}function s(r){var i=arguments.length,n=arguments,o=(window[r],n[1]);if(1==i)return 0==f(r).length;if(e.isArray(o)){for(u=0;u<o.length;u++)if(!s(r,o[u]))return!1;return!0}try{var a=t.apply(this,arguments);e.isArray(n[i-1])||(a={totest:a});for(var u in a)if(!(e.isPlainObject(a[u])&&e.isEmptyObject(a[u])||e.isArray(a[u])&&!a[u].length)&&a[u])return!1;return!0}catch(e){return!0}}function a(r){var i=arguments.length,n=arguments,o=(window[r],n[1]);if(i<2)throw new Error("Minimum 2 arguments must be given");if(e.isArray(o)){for(f=0;f<o.length;f++)if(!a(r,o[f]))return!1;return!0}try{var s=t.apply(this,arguments);e.isArray(n[i-1])||(s={totest:s});for(var f in s)if(void 0===s[f]||null===s[f])return!1;return!0}catch(e){return!1}}function f(r){var i=arguments.length,n=window[r],o=arguments,s=(o[1],[]),a={};if((a=i>1?t.apply(this,o):n)._cookie)for(var f in e.cookie())""!=f&&s.push(f.replace(a._prefix,""));else for(var u in a)s.push(u);return s}function u(t){if(!t||"string"!=typeof t)throw new Error("First parameter must be a string");window.localStorage.getItem(t)||window.localStorage.setItem(t,"{}"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,"{}");var r={localStorage:e.extend({},e.localStorage,{_ns:t}),sessionStorage:e.extend({},e.sessionStorage,{_ns:t})};return e.cookie&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,"{}"),r.cookieStorage=e.extend({},e.cookieStorage,{_ns:t})),e.namespaceStorages[t]=r,r}var c={_type:"",_ns:"",_callMethod:function(e,t){var r=[this._type],i=(t=Array.prototype.slice.call(t))[0];return this._ns&&r.push(this._ns),"string"==typeof i&&-1!==i.indexOf(".")&&(t.shift(),[].unshift.apply(t,i.split("."))),[].push.apply(r,t),e.apply(this,r)},get:function(){return this._callMethod(t,arguments)},set:function(){var t=arguments.length,n=arguments,o=n[0];if(t<1||!e.isPlainObject(o)&&t<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(e.isPlainObject(o)&&this._ns){for(var s in o)i(this._type,this._ns,s,o[s]);return o}return r=this._callMethod(i,n),this._ns?r[o.split(".")[0]]:r},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(n,arguments)},removeAll:function(e){return this._ns?(i(this._type,this._ns,{}),!0):o(this._type,e)},isEmpty:function(){return this._callMethod(s,arguments)},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(a,arguments)},keys:function(){return this._callMethod(f,arguments)}};if(e.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var h={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(t,r){e.cookie(this._prefix+t,r,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return e.cookie(this._prefix+t)},removeItem:function(t){return e.removeCookie(this._prefix+t)},clear:function(){for(var t in e.cookie())""!=t&&(!this._prefix&&-1===t.indexOf("ls_")&&-1===t.indexOf("ss_")||this._prefix&&0===t.indexOf(this._prefix))&&e.removeCookie(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};window.localStorage||(window.localStorage=e.extend({},h,{_prefix:"ls_",_expires:3650}),window.sessionStorage=e.extend({},h,{_prefix:"ss_"+window.name+"_"})),window.cookieStorage=e.extend({},h),e.cookieStorage=e.extend({},c,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}e.initNamespaceStorage=function(e){return u(e)},e.localStorage=e.extend({},c,{_type:"localStorage"}),e.sessionStorage=e.extend({},c,{_type:"sessionStorage"}),e.namespaceStorages={},e.removeAllStorages=function(t){e.localStorage.removeAll(t),e.sessionStorage.removeAll(t),e.cookieStorage&&e.cookieStorage.removeAll(t),t||(e.namespaceStorages={})}}(jQuery);